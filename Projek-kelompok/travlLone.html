<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travelone</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* 1. Global styles */
        :root {
            --primary-blue: #0f3460;   /* Main Color */
            --accent-blue: #00a8cc;    /* Accent Color */
            --light-gray: #f2f2f2;     /* Background */
            --white: #ffffff;
            --text-dark: #333333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* --- 2. NAVIGATION BAR --- */
        nav {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo img {
            height: 50px;
            width: auto;
            display: block;
            border-radius: 50%;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            font-weight: 500;
            transition: 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--accent-blue);
        }

        .btn-logout {
            background-color: #e94560;
            padding: 5px 15px;
            border-radius: 5px;
            color: white !important;
        }

        /* HAMBURGER MENU (MOBILE) */
        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }

        /* --- 3. LOGIN OVERLAY --- */
        #login-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            /* Background styles tetap sama... */
            background: linear-gradient(135deg, rgba(15, 52, 96, 0.95), rgba(0, 168, 204, 0.6)), 
                        url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1600');
            background-size: cover;
            background-position: center;
            
            /* GANTI INI: Defaultnya sembunyi */
            display: none; 
            
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .login-box {
            background: white;
            padding: 3.5rem;
            border-radius: 15px;
            width: 90%;
            max-width: 550px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transform: scale(1);
            transition: transform 0.3s ease;
        }

        .login-box:hover {
            transform: scale(1.02);
        }

        .login-box h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        .login-box p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: #666;
        }

        .login-icon {
            font-size: 60px !important;
            color: var(--primary-blue);
            margin-bottom: 25px;
        }

        .login-input {
            width: 100%;
            padding: 16px;
            margin: 12px 0;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border 0.3s;
        }

        .login-input:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: 0.3s;
            width: 100%;
            margin-top: 10px;
            letter-spacing: 1px;
        }

        .btn-primary:hover {
            background-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        /* --- 4. SECTIONS & LAYOUT --- */
        section {
            display: none;
            min-height: 80vh;
            animation: fadeIn 0.8s 
            cubic-bezier(0.64, 0.06, 0.03, 1.02);

        }

        section.active-page {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* HERO SECTION */
        .hero {
            position: relative;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            overflow: hidden;
            border-radius: 0 0 20px 20px;
        }

        .hero video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            filter: brightness(0.4);
        }

        .hero h1 { font-size: 3rem; margin-bottom: 1rem; }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto; }

        /* --- NEW: ZIGZAG TIMELINE STYLE (MODERN) --- */
        .zigzag-wrapper {
            position: relative;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* Garis Vertikal Tengah */
        .zigzag-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px;
            background: #e0e0e0;
            transform: translateX(-50%);
            z-index: 0;
        }

        .zigzag-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 80px;
            position: relative;
            z-index: 1;
        }

        .zigzag-item:last-child {
            margin-bottom: 0;
        }

        /* Titik Tengah (Dot) */
        .zigzag-dot {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: var(--accent-blue);
            border: 4px solid white;
            border-radius: 50%;
            box-shadow: 0 0 0 4px rgba(0, 168, 204, 0.2);
            z-index: 2;
        }

        .zigzag-content, .zigzag-image {
            width: 45%; /* Sisi kiri dan kanan */
        }

        /* Gambar dengan style modern */
        .zigzag-image img {
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            height: 250px;
            object-fit: cover;
        }

        .zigzag-image img:hover {
            transform: translateY(-5px);
        }

        /* Teks */
        .zigzag-content {
            padding: 20px;
        }

        .zigzag-content h3 {
            font-size: 1.8rem;
            color: var(--primary-blue);
            margin-bottom: 15px;
        }

        .zigzag-content p {
            line-height: 1.6;
            color: #555;
        }

        /* Membalik urutan untuk baris genap */
        .zigzag-item.reverse {
            flex-direction: row-reverse;
        }
        
        .zigzag-item.reverse .zigzag-content {
            text-align: right;
        }

        /* --- OLD GRID & CARDS (Still used for Gallery/Packages) --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        /* MASONRY GALLERY */
        .masonry-gallery {
            column-count: 3;
            column-gap: 1.5rem;
            margin-top: 2rem;
        }

        .masonry-item {
            break-inside: avoid;
            margin-bottom: 1.5rem;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease-in-out;
        }

        .masonry-item:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        .masonry-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .masonry-caption {
            padding: 1rem;
            background: white;
            text-align: center;
        }

        .masonry-caption h4 {
            margin: 0;
            color: var(--primary-blue);
            font-size: 1.1rem;
        }

        /* CARDS */
        .card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            text-align: center;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .card-content {
            padding: 2rem;
        }

        .card-content h3 {
            margin: 1rem 0 0.5rem;
            color: var(--primary-blue);
        }

        .card-price {
            color: var(--accent-blue);
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 10px;
        }

        /* CALCULATOR & FORM */
        .booking-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .price-display {
            background-color: #e3f2fd;
            padding: 1rem;
            border-radius: 5px;
            margin-top: 1rem;
            text-align: center;
        }

        .price-display h3 { color: var(--primary-blue); margin-bottom: 5px; }
        .total-price { font-size: 2rem; color: var(--primary-blue); font-weight: bold; }

        .section-title {
            text-align: center;
            color: var(--primary-blue);
            font-size: 2.5rem;
            margin: 3rem 0 4rem;
            font-weight: 800;
        }

        footer {
            background-color: var(--text-dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--primary-blue);
                padding: 1rem;
                text-align: center;
            }
            
            .nav-links.active {
                display: flex;
            }

            .hamburger {
                display: block;
            }

            .hero h1 { font-size: 2rem; }
            .login-box { padding: 2rem; width: 95%; }
            
            .masonry-gallery {
                column-count: 2;
            }

            /* Zigzag Responsive: Stack vertikal*/
            .zigzag-wrapper::before {
                left: 20px; 
            }
            
            .zigzag-item, .zigzag-item.reverse {
                flex-direction: column;
                align-items: flex-start;
                margin-left: 50px; 
                margin-bottom: 50px;
            }

            .zigzag-content, .zigzag-image {
                width: 100%;
                text-align: left !important;
            }

            .zigzag-image {
                margin-bottom: 20px;
            }

            .zigzag-dot {
                left: 20px; 
                display: none;
            }
        }

        @media (max-width: 480px) {
            .masonry-gallery {
                column-count: 1;
            }
        }
    </style>
</head>
<body>

    <!-- 1. LOGIN GATE -->
    <div id="login-overlay">
        <div class="login-box">
            <i class="fas fa-plane-departure login-icon"></i>
            <h2>Welcome</h2>
            <p>Exclusive Travelone Portal</p>
            <form onsubmit="handleLogin(event)">
                <input type="text" class="login-input" placeholder="Username" required>
                <input type="password" class="login-input" placeholder="Password" required>
                <button type="submit" class="btn-primary">LOGIN NOW</button>
            </form>
        </div>
    </div>

    <!-- booking modal -->
    <div id="booking-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:10000; justify-content:center; align-items:center;">
        <div style="background:white; padding:30px; border-radius:10px; max-width:500px; width:90%; text-align:center;">
            <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--accent-blue); margin-bottom:20px;"></i>
            <h3 style="color: var(--primary-blue); margin-bottom:15px;">Confirm Your Trip?</h3>
            
            <div style="text-align:left; background:#f9f9f9; padding:15px; border-radius:5px; margin-bottom:20px; font-size:0.95rem;">
                <p><strong>Package:</strong> <span id="summary-pkg">-</span></p>
                <p><strong>Date:</strong> <span id="summary-date">-</span></p>
                <p><strong>Participants:</strong> <span id="summary-pax">-</span> people</p>
                <p><strong>Airline:</strong> <span id="summary-airline">-</span></p>
                <hr style="margin:10px 0; border:0; border-top:1px dashed #ccc;">
                <p style="font-size:1.2rem; text-align:right; font-weight:bold; color:var(--primary-blue);">Total: <span id="summary-total">Rp 0</span></p>
            </div>

            <div style="display:flex; gap:10px; justify-content:center;">
                <button onclick="closeBookingModal()" style="background:#ccc; color:#333; border:none; padding:10px 20px; border-radius:5px; cursor:pointer;">Cancel</button>
                <button onclick="finalSubmit()" class="btn-primary" style="margin-top:0; width:auto;">Yes, I'm Ready!</button>
            </div>
        </div>
    </div>

    <!-- 2. NAVIGATION BAR -->
    <nav id="main-nav">
        <div class="logo">
            <img src="source/travelone-logo-2.png" alt="Travelone" onerror="this.src='https://via.placeholder.com/50x50?text=Logo'">
            <span>Travelone</span> </div>
        
        <div class="hamburger" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>

        <div class="nav-links" id="nav-links">
            <a onclick="showPage('home')" class="active">Main</a>
            <a onclick="showPage('packages')">Packages</a>
            <a onclick="showPage('about')">About</a>
            <a onclick="showPage('gallery')">Gallery</a>
            <a onclick="showPage('contact')">Contact</a>
            
            <a onclick="showLoginModal()" id="btn-login-nav">Login</a>
            
            <a onclick="handleLogout()" class="btn-logout" id="btn-logout-nav" style="display:none;">Logout</a>
        </div>
    </nav>

    <!-- 3. HALAMAN: HOME -->
    <section id="home">
        <div class="hero">
            <video autoplay muted loop playsinline>
                <source src="https://www.pexels.com/download/video/2252797/" type="video/mp4">
            </video>
            <div style="z-index: 2;">
                <h1>TraveLone</h1>
                <p>Travel Around The World Endless Experiences Await</p>
                <button onclick="showPage('packages')" class="btn-primary" style="background: var(--accent-blue); width: auto; padding: 15px 40px;">Look Your Destination</button>
            </div>
        </div>

        <div style="margin-top: 3rem; padding: 0 5%;">
            <h2 class="section-title">TraveLone Experiences</h2>
            
            <!-- ZIGZAG LAYOUT "WHY CHOOSE US" -->
            <div class="zigzag-wrapper">
                
                <div class="zigzag-item">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=500" alt="Harga Terjangkau">
                    </div>
                    <div class="zigzag-content">
                        <h3>Best Value for Money</h3>
                        <p>Experience world-class destinations without breaking the bank. We curate exclusive deals tailored for students and smart travelers who prioritize adventure over luxury costs.</p>
                    </div>
                </div>

                <div class="zigzag-item reverse">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1521791136064-7986c2920216?w=500" alt="Pelayanan Profesional">
                    </div>
                    <div class="zigzag-content">
                        <h3>Certified Local Guides</h3>
                        <p>Safety is our priority. Every trip is led by licensed local experts who know the hidden gems and culture inside out. We don't just guide; we connect you with the soul of the place.</p>
                    </div>
                </div>

                <div class="zigzag-item">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1524850011238-e3d235c7d4c9?w=500" alt="Destinasi Beragam">
                    </div>
                    <div class="zigzag-content">
                        <h3>Hidden Gems Access</h3>
                        <p>Go beyond the tourist traps. From the secret beaches of Bali to the untouched peaks of Bromo, we take you to places that standard travel agencies don't even know exist.</p>
                    </div>
                </div>

                <div class="zigzag-item reverse">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=500" alt="Paket Lengkap">
                    </div>
                    <div class="zigzag-content">
                        <h3>Hassle-Free Journey</h3>
                        <p>Stop worrying about logistics. Flights, accommodation, and transport are all handled by us. Your only job is to pack your bags and enjoy the endless experiences awaiting you.</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- 4. HALAMAN: PAKET -->
    <section id="packages">
        <h2 class="section-title">Popular Travel Packages</h2>
        <div class="grid-container" id="package-list">
            <!-- Diisi dari Javascript -->
        </div>
    </section>

    <!-- 5. HALAMAN: BOOKING -->
    <section id="booking">
        <h2 class="section-title">Booking Form</h2>
        <div class="booking-container">
            <form onsubmit="openBookingConfirmation(event)">
                
                <div class="form-group">
                    <label>Select Travel Package</label>
                    <select id="input-paket" onchange="calculatePrice()" required>
                        <option value="0">-- Select Destination --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Airline</label>
                    <select id="input-airline" onchange="calculatePrice()">
                        <option value="1.0">Lion Air (Standard)</option>
                        <option value="1.1">Citilink (Medium)</option>
                        <option value="1.2">Batik Air (Premium)</option>
                        <option value="1.5">Garuda Indonesia (Luxury)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Number of Participants (Pax)</label>
                    <input type="number" id="input-pax" value="1" min="1" oninput="calculatePrice()" required>
                </div>

                <div class="form-group">
                    <label>Departure Date</label>
                    <input type="date" id="input-date" required>
                </div>

                <div class="price-display">
                    <h3>Estimated Total Cost:</h3>
                    <div class="total-price" id="display-price">Rp 0</div>
                    <small>*Price includes taxes & guide</small>
                </div>

                <button type="submit" class="btn-primary" style="width: 100%; margin-top: 20px;">Confirm Booking</button>
            </form>
        </div>
    </section>
    <!-- 6. HALAMAN: ABOUT (ZIGZAG STYLE APPLIED) -->
    <section id="about">
        <div style="padding: 0 5%;">
            <h2 class="section-title">About Travelone</h2>
            
            <div class="zigzag-wrapper">
                <!-- Intro -->
                <div class="zigzag-item">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="source/travelone-logo-3.png" alt="Tentang Kami" onerror="this.src='https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800'">
                    </div>
                    <div class="zigzag-content">
                        <h3>Who Are We?</h3>
                        <p>Travelone was founded in 2025 with one goal: to provide unforgettable travel experiences. We are not just a travel agency, we are curators of your beautiful memories.</p>
                    </div>
                </div>

                <!-- Visi -->
                <div class="zigzag-item reverse">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=500" alt="Visi Kami">
                    </div>
                    <div class="zigzag-content">
                        <h3>Our Vision</h3>
                        <p>To become the most trusted and leading travel company in Southeast Asia. We dream of connecting everyone with the natural beauty of Indonesia and the world in an easy and enjoyable way.</p>
                    </div>
                </div>

                <!-- Misi -->
                <div class="zigzag-item">
                    <div class="zigzag-dot"></div>
                    <div class="zigzag-image">
                        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?w=500" alt="Misi Kami">
                    </div>
                    <div class="zigzag-content">
                        <h3>Our Mission</h3>
                        <p>We are committed to providing five-star service at affordable prices. Technological innovation, safety, and customer satisfaction are the main pillars of our operations.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 7. HALAMAN: GALLERY -->
    <section id="gallery">
        <h2 class="section-title">Travel Gallery</h2>
        <div class="masonry-gallery">
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&q=80&w=800" alt="Bali">
                <div class="masonry-caption"><h4>Bali Paradise</h4></div>
            </div>
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1584810359583-96fc3448beaa?auto=format&fit=crop&q=80&w=800" alt="Jogja">
                <div class="masonry-caption"><h4>Yogyakarta Heritage</h4></div>
            </div>
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1600790314350-3925299bab61?q=80&w=765&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Lombok">
                <div class="masonry-caption"><h4>Lombok Eksotis</h4></div>
            </div>
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1516690561799-46d8f74f9abf?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Raja Ampat">
                <div class="masonry-caption"><h4>Raja Ampat</h4></div>
            </div>
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?auto=format&fit=crop&q=80&w=800" alt="Bromo">
                <div class="masonry-caption"><h4>Bromo Sunrise</h4></div>
            </div>
            <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1555400038-63f5ba517a47?auto=format&fit=crop&q=80&w=800" alt="Ubud">
                <div class="masonry-caption"><h4>Ubud Cultural</h4></div>
            </div>
             <div class="masonry-item">
                <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&q=80&w=800" alt="Danau Toba">
                <div class="masonry-caption"><h4>Danau Toba</h4></div>
            </div>
        </div>
    </section>

    <!-- 8. HALAMAN: KONTAK -->
    <section id="contact">
        <div class="booking-container" style="text-align: center;">
            <i class="fas fa-map-marked-alt" style="font-size: 3rem; color: var(--primary-blue);"></i>
            <h2 style="margin: 20px 0;">Contact Us</h2>
            <p><strong>Head Office:</strong> Jl. Sudirman No. 123, Jakarta Pusat</p>
            <p><strong>WhatsApp:</strong> +62 851 7241 1240</p>
            <p><strong>Email:</strong> info@travelone.com</p>
            
            <div style="margin-top: 30px;">
                <button class="btn-primary" onclick="window.open('https://wa.me/6285172411240', '_blank')"><i class="fab fa-whatsapp"></i> Chat WhatsApp (Live)</button>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 Travelone. All Rights Reserved.</p>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // Data Paket
        const packages = [
            { id: 1, name: 'Bali Paradise', price: 3500000, img: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&q=80&w=800', desc: '4 Days 3 Nights - Hotel & Transport' },
            { id: 2, name: 'Jogja Heritage', price: 2200000, img: 'https://images.unsplash.com/photo-1584810359583-96fc3448beaa?auto=format&fit=crop&q=80&w=800', desc: '3 Days 2 Nights - Tour Ticket' },
            { id: 3, name: 'Lombok Eksotis', price: 4800000, img: 'https://images.unsplash.com/photo-1600790314350-3925299bab61?q=80&w=765&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', desc: '5 Days 4 Nights - Snorkeling' },
            { id: 4, name: 'Bandung Keren', price: 1500000, img: 'https://images.unsplash.com/photo-1611638281871-1063d3e76e1f?q=80&w=1133&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', desc: '2 Days 1 Night - Culinary' },
            { id: 5, name: 'Raja Ampat', price: 8500000, img: 'https://images.unsplash.com/photo-1516690561799-46d8f74f9abf?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', desc: '6 Days 5 Nights - Diving' },
            { id: 6, name: 'Bromo Sunrise', price: 1800000, img: 'https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?auto=format&fit=crop&q=80&w=800', desc: '2 Days 1 Night - Jeep' },
        ];

        let pendingBookingId = null; 

        window.onload = function() {
            // 1. Setup Form dan Paket
            const packageContainer = document.getElementById('package-list');
            const selectOptions = document.getElementById('input-paket');
            
            // Render Paket ke dalam Grid
            packages.forEach(pkg => {
                packageContainer.innerHTML += `
                    <div class="card">
                        <img src="${pkg.img}" alt="${pkg.name}">
                        <div class="card-content">
                            <h3>${pkg.name}</h3>
                            <p>${pkg.desc}</p>
                            <div class="card-price">Rp ${pkg.price.toLocaleString('id-ID')}</div>
                            <button onclick="goToBooking(${pkg.id})" class="btn-primary" style="margin-top:10px; width:100%;">Book Now</button>
                        </div>
                    </div>
                `;
                // Isi dropdown booking
                if(selectOptions) {
                    selectOptions.innerHTML += `<option value="${pkg.price}" id="opt-pkg-${pkg.id}">${pkg.name}</option>`;
                }
            });

            // 2. Setup Validasi Tanggal (Min Hari Ini)
            const dateInput = document.getElementById('input-date');
            if(dateInput) {
                const today = new Date().toISOString().split('T')[0];
                dateInput.setAttribute('min', today);
            }

            // 3. Tampilkan Halaman Home
            showPage('home');
            
            // 4. Update UI Navbar
            updateNavUI();
        };

        // --- NAV UI CHECKER ---
        function updateNavUI() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const btnLogin = document.getElementById('btn-login-nav');
            const btnLogout = document.getElementById('btn-logout-nav');

            if (isLoggedIn) {
                btnLogin.style.display = 'none';
                btnLogout.style.display = 'block';
            } else {
                btnLogin.style.display = 'block';
                btnLogout.style.display = 'none';
            }
        }

        // --- BOOKING LOGIC ---
        function goToBooking(pkgId) {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';

            if (!isLoggedIn) {
                pendingBookingId = pkgId;
                showLoginModal();
            } else {
                processBooking(pkgId);
            }
        }

        function processBooking(pkgId) {
            showPage('booking');
            
            const select = document.getElementById('input-paket');
            const option = document.getElementById(`opt-pkg-${pkgId}`);
            if(option && select) {
                select.value = option.value; 
                calculatePrice();
            }
        }

        // --- MODAL LOGIN ---
        function showLoginModal() {
            document.getElementById('login-overlay').style.display = 'flex';
        }

        function handleLogin(e) {
            e.preventDefault();
            localStorage.setItem('isLoggedIn', 'true');
            document.getElementById('login-overlay').style.display = 'none';
            updateNavUI();

            if (pendingBookingId !== null) {
                processBooking(pendingBookingId);
                pendingBookingId = null; 
            }
        }

        function handleLogout() {
            localStorage.removeItem('isLoggedIn');
            updateNavUI();
            showPage('home');
            alert("You have logged out.");
        }

        // --- UTILITY ---
        function toggleMenu() {
            document.getElementById('nav-links').classList.toggle('active');
        }

        function showPage(pageId) {
            if (pageId === 'booking' && localStorage.getItem('isLoggedIn') !== 'true') {
                showLoginModal();
                return;
            }

            document.querySelectorAll('section').forEach(sec => sec.classList.remove('active-page'));
            const target = document.getElementById(pageId);
            if(target) target.classList.add('active-page');
            
            document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
            document.getElementById('nav-links').classList.remove('active');
            window.scrollTo(0,0);
        }

        function calculatePrice() {
            const paketEl = document.getElementById('input-paket');
            const airlineEl = document.getElementById('input-airline');
            const paxEl = document.getElementById('input-pax');

            if(!paketEl || !airlineEl || !paxEl) return;

            const basePrice = parseFloat(paketEl.value);
            const airlineMultiplier = parseFloat(airlineEl.value);
            const pax = parseInt(paxEl.value);

            if (basePrice > 0) {
                const total = basePrice * airlineMultiplier * pax;
                document.getElementById('display-price').innerText = "Rp " + total.toLocaleString('id-ID');
            } else {
                document.getElementById('display-price').innerText = "Rp 0";
            }
        }

        // --- MODAL KONFIRMASI (NEW) ---
        function openBookingConfirmation(e) {
            e.preventDefault(); 

            const pkgSelect = document.getElementById('input-paket');
            const airlineSelect = document.getElementById('input-airline');
            const pax = document.getElementById('input-pax').value;
            const date = document.getElementById('input-date').value;
            const total = document.getElementById('display-price').innerText;

            if(pkgSelect.value == "0") {
                alert("Please select a destination first!");
                return;
            }

            const pkgName = pkgSelect.options[pkgSelect.selectedIndex].text;
            const airlineName = airlineSelect.options[airlineSelect.selectedIndex].text;

            document.getElementById('summary-pkg').innerText = pkgName;
            document.getElementById('summary-date').innerText = date;
            document.getElementById('summary-pax').innerText = pax;
            document.getElementById('summary-airline').innerText = airlineName;
            document.getElementById('summary-total').innerText = total;

            document.getElementById('booking-modal').style.display = 'flex';
        }

        function closeBookingModal() {
            document.getElementById('booking-modal').style.display = 'none';
        }

        function finalSubmit() {
            closeBookingModal();
            alert(`Thank you! \n\nWe have received your booking for Rp ${document.getElementById('display-price').innerText}.\nOur team will contact you shortly via WhatsApp.`);
            showPage('home');
        }
    </script>
</body>
</html>